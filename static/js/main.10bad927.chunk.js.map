{"version":3,"sources":["components/ConnectWalletButton.js","utils/constants.js","components/TokenSelect.js","utils/Token.js","App.js","index.js"],"names":["injected","InjectedConnector","ConnectWalletButton","useWeb3React","activate","account","useState","buttonText","setButtonText","isDisabled","setDisabled","useEffect","hex","length","substring","shortenHex","Button","variant","color","disabled","onClick","undefined","catch","error","console","Contract","require","rangepool_interface","erc20_interface","RANGEPOOL_ADDRESS","RANGEPOOL_CONTRACT","JSON","parse","TokenSelect","props","label","tokens","onChange","token","setToken","Box","sx","minWidth","FormControl","fullWidth","InputLabel","id","Select","labelId","value","e","target","map","i","symbol","String","MenuItem","Token","address","provider","this","contract","setProvider","a","methods","call","decimals","App","className","style","maxWidth","margin","padding","Grid","container","direction","item","Header","Body","justifyContent","alignItems","Typography","library","setTokens","fromToken","setFromToken","toToken","setToToken","swapButtonText","fromAmount","setFromAmount","toAmount","setToAmount","addressFrom","setAddressFrom","addressTo","setAddressTo","contractFrom","setContractFrom","decimalsFrom","setDecimalsFrom","enableInfiniteAllowance","setEnableInfiniteAllowance","handleApprove","allowance","coeff","BigNumber","from","pow","infinite","mul","needed","allowanceAmount","approve","send","swap","defaultAccount","currentProvider","promises","push","Promise","resolve","reject","getSymbol","getDecimals","all","then","addresses","newTokens","filter","find","addr","amountOut","amount","spacing","xs","src","width","TextField","InputProps","inputProps","min","type","FormGroup","FormControlLabel","control","Checkbox","Web3","window","ethereum","enable","theme","createTheme","palette","mode","primary","main","blue","secondary","pink","ReactDOM","render","StrictMode","getLibrary","connector","ThemeProvider","CssBaseline","document","getElementById"],"mappings":"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","file":"static/js/main.10bad927.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport { InjectedConnector } from \"@web3-react/injected-connector\";\r\nimport { Button } from \"@mui/material\";\r\n\r\nconst injected = new InjectedConnector();\r\n\r\nconst ONBOARD_TEXT = \"\";\r\nconst CONNECT_TEXT = \"CONNECT WALLET\";\r\n\r\nfunction shortenHex(hex, length = 4) {\r\n  return `${hex.substring(0, length + 2)}â€¦${hex.substring(\r\n    hex.length - length\r\n  )}`;\r\n}\r\n\r\nexport default function ConnectWalletButton() {\r\n  const { activate, account } = useWeb3React();\r\n\r\n  const [buttonText, setButtonText] = useState(ONBOARD_TEXT);\r\n  const [isDisabled, setDisabled] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (account) {\r\n      setButtonText(shortenHex(account));\r\n      setDisabled(true);\r\n    } else {\r\n      setButtonText(CONNECT_TEXT);\r\n      setDisabled(false);\r\n    }\r\n  }, [account]);\r\n\r\n  const onClick = () => {\r\n    activate(injected, undefined, true).catch((error) => {\r\n      console.error(error);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Button\r\n      variant=\"text\"\r\n      color=\"secondary\"\r\n      disabled={isDisabled}\r\n      onClick={onClick}\r\n      variant=\"contained\"\r\n    >\r\n      {buttonText}\r\n    </Button>\r\n  );\r\n}\r\n","const Contract = require(\"web3-eth-contract\");\r\n\r\nconst rangepool_interface = require(\"../abi/rangepool.json\");\r\nexport const erc20_interface = require(\"../abi/erc20.json\");\r\n\r\nexport const NUM_TOKENS = 8;\r\n\r\nexport const RANGEPOOL_ADDRESS = \"0x66e901B750B6fFdBE2262569089bb61A27A19928\";\r\n\r\nexport const RANGEPOOL_CONTRACT = new Contract(\r\n  JSON.parse(rangepool_interface),\r\n  RANGEPOOL_ADDRESS\r\n);\r\n","import { FormControl, InputLabel, MenuItem, Select } from \"@mui/material\";\r\nimport { Box } from \"@mui/system\";\r\nimport { useState } from \"react\";\r\n\r\nexport default function TokenSelect(props) {\r\n  const { label = \"Token\", tokens, onChange } = props;\r\n\r\n  const [token, setToken] = useState(\"\");\r\n\r\n  const handleChange = (e) => {\r\n    setToken(e.target.value);\r\n    onChange(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ minWidth: 120 }}>\r\n      <FormControl fullWidth>\r\n        <InputLabel id=\"token-select\">{label}</InputLabel>\r\n        <Select\r\n          labelId=\"token-select\"\r\n          value={token}\r\n          label={label}\r\n          onChange={handleChange}\r\n        >\r\n          {tokens.map((token, i) => {\r\n            const symbol = String(token.symbol);\r\n            return (\r\n              <MenuItem key={i} value={symbol}>\r\n                {symbol}\r\n              </MenuItem>\r\n            );\r\n          })}\r\n        </Select>\r\n      </FormControl>\r\n    </Box>\r\n  );\r\n}\r\n","import { erc20_interface } from \"./constants\";\r\n\r\nconst Contract = require(\"web3-eth-contract\");\r\n\r\nexport default class Token {\r\n  constructor(address, provider) {\r\n    this.address = address;\r\n\r\n    this.contract = new Contract(erc20_interface, address);\r\n\r\n    this.contract.setProvider(provider);\r\n  }\r\n\r\n  async getSymbol() {\r\n    this.symbol = await this.contract.methods.symbol().call();\r\n  }\r\n\r\n  async getDecimals() {\r\n    this.decimals = await this.contract.methods.decimals().call();\r\n  }\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport {\r\n  Button,\r\n  Checkbox,\r\n  FormControlLabel,\r\n  FormGroup,\r\n  Grid,\r\n  TextField,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport ArrowDownwardIcon from \"@mui/icons-material/ArrowDownward\";\r\n\r\nimport ConnectWalletButton from \"./components/ConnectWalletButton\";\r\nimport {\r\n  NUM_TOKENS,\r\n  RANGEPOOL_ADDRESS,\r\n  RANGEPOOL_CONTRACT,\r\n} from \"./utils/constants\";\r\nimport TokenSelect from \"./components/TokenSelect\";\r\nimport Token from \"./utils/Token\";\r\nimport { BigNumber } from \"@ethersproject/bignumber\";\r\n\r\nexport default function App() {\r\n  return (\r\n    <div\r\n      className=\"App\"\r\n      style={{ maxWidth: \"1000px\", margin: \"auto\", padding: \"2ch\" }}\r\n    >\r\n      <Grid container direction=\"column\">\r\n        <Grid item>\r\n          <Header />\r\n          <Body />\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Header() {\r\n  return (\r\n    <Grid container justifyContent=\"space-between\" alignItems=\"center\">\r\n      <Grid item>\r\n        <Typography variant=\"h4\">Range Swap</Typography>\r\n      </Grid>\r\n      <Grid item>\r\n        <ConnectWalletButton />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nfunction Body() {\r\n  const { account, library } = useWeb3React();\r\n\r\n  const [tokens, setTokens] = useState([]);\r\n\r\n  const [fromToken, setFromToken] = useState();\r\n  const [toToken, setToToken] = useState();\r\n  const [swapButtonText, setSwapButtonText] = useState(\"Swap\");\r\n  const [fromAmount, setFromAmount] = useState(0);\r\n  const [toAmount, setToAmount] = useState(0);\r\n  const [addressFrom, setAddressFrom] = useState();\r\n  const [addressTo, setAddressTo] = useState();\r\n  const [contractFrom, setContractFrom] = useState();\r\n  const [decimalsFrom, setDecimalsFrom] = useState();\r\n  const [enableInfiniteAllowance, setEnableInfiniteAllowance] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!library) return;\r\n    RANGEPOOL_CONTRACT.defaultAccount = account;\r\n    RANGEPOOL_CONTRACT.setProvider(library.currentProvider);\r\n\r\n    const promises = [];\r\n    for (var i = 0; i < NUM_TOKENS; i++) {\r\n      promises.push(\r\n        new Promise(async (resolve, reject) => {\r\n          try {\r\n            const address = await RANGEPOOL_CONTRACT.methods.tokens(i).call();\r\n            const token = new Token(address, library.currentProvider);\r\n            await token.getSymbol();\r\n            await token.getDecimals();\r\n            resolve(token);\r\n          } catch {\r\n            resolve();\r\n          }\r\n        })\r\n      );\r\n    }\r\n\r\n    Promise.all(promises).then((addresses) => {\r\n      const newTokens = addresses.filter((address) => address !== undefined);\r\n\r\n      setTokens(newTokens);\r\n    });\r\n  }, [account]);\r\n\r\n  useEffect(() => {\r\n    if (!fromToken) return;\r\n    const token = tokens.find((token) => token.symbol === fromToken);\r\n    setContractFrom(token.contract);\r\n    setDecimalsFrom(token.decimals);\r\n    setAddressFrom(token.address);\r\n  }, [fromToken]);\r\n\r\n  useEffect(() => {\r\n    if (!toToken) return;\r\n    const addr = tokens.find((token) => token.symbol === toToken).address;\r\n    setAddressTo(addr);\r\n  }, [toToken]);\r\n\r\n  useEffect(() => {\r\n    if (!addressFrom || !addressTo || !account) return;\r\n\r\n    try {\r\n      RANGEPOOL_CONTRACT.methods\r\n        .amountOut(addressFrom, fromAmount, addressTo)\r\n        .call()\r\n        .then((amount) => {\r\n          setToAmount(amount);\r\n        });\r\n    } catch {}\r\n  }, [addressFrom, addressTo, fromAmount, account]);\r\n\r\n  function handleFromAmountChange(e) {\r\n    setFromAmount(e.target.value);\r\n  }\r\n\r\n  async function handleApprove() {\r\n    if (!addressFrom || !addressTo || !account) return;\r\n    try {\r\n      const allowance = await contractFrom.methods\r\n        .allowance(RANGEPOOL_ADDRESS, account)\r\n        .call();\r\n\r\n      const coeff = BigNumber.from(10).pow(decimalsFrom);\r\n\r\n      const infinite = BigNumber.from(999999999999).mul(coeff);\r\n      const needed = BigNumber.from(fromAmount).mul(coeff);\r\n\r\n      if (allowance < fromAmount) {\r\n        const allowanceAmount = enableInfiniteAllowance ? infinite : needed;\r\n\r\n        await contractFrom.methods\r\n          .approve(RANGEPOOL_ADDRESS, allowanceAmount)\r\n          .send({ from: account });\r\n      }\r\n      return true;\r\n    } catch (e) {\r\n      console.error(\"error approving\");\r\n      return false;\r\n    }\r\n  }\r\n\r\n  async function handleSwap() {\r\n    if (!addressFrom || !addressTo || !account) return;\r\n\r\n    const success = await handleApprove();\r\n    if (!success) return;\r\n\r\n    try {\r\n      RANGEPOOL_CONTRACT.methods\r\n        .swap(addressFrom, fromAmount, addressTo)\r\n        .send({ from: account });\r\n    } catch {}\r\n  }\r\n\r\n  function handleCheckboxChange() {\r\n    setEnableInfiniteAllowance(!enableInfiniteAllowance);\r\n  }\r\n\r\n  return (\r\n    <Grid container direction=\"row\" spacing={9}>\r\n      <Grid item xs>\r\n        <img\r\n          src=\"https://pngimg.com/uploads/anime_girl/anime_girl_PNG46.png\"\r\n          style={{ width: \"100%\" }}\r\n        ></img>\r\n      </Grid>\r\n      <Grid\r\n        item\r\n        xs\r\n        container\r\n        direction=\"column\"\r\n        justifyContent=\"center\"\r\n        alignItems=\"stretch\"\r\n        spacing={2}\r\n      >\r\n        <Grid item container spacing={1}>\r\n          <Grid item>\r\n            <TokenSelect label=\"From\" tokens={tokens} onChange={setFromToken} />\r\n          </Grid>\r\n          <Grid item xs>\r\n            <TextField\r\n              label=\"Amount\"\r\n              value={fromAmount}\r\n              onChange={handleFromAmountChange}\r\n              InputProps={{ inputProps: { min: 0 } }}\r\n              type=\"number\"\r\n              style={{ width: \"100%\" }}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n        <Grid item container justifyContent=\"center\">\r\n          <ArrowDownwardIcon />\r\n        </Grid>\r\n        <Grid item container spacing={1}>\r\n          <Grid item>\r\n            <TokenSelect label=\"To\" tokens={tokens} onChange={setToToken} />\r\n          </Grid>\r\n          <Grid item xs>\r\n            <TextField\r\n              label=\"\"\r\n              value={toAmount}\r\n              type=\"number\"\r\n              style={{ width: \"100%\" }}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n        <Grid item container justifyContent=\"center\">\r\n          <Button\r\n            variant=\"contained\"\r\n            onClick={handleSwap}\r\n            style={{ width: \"100%\" }}\r\n          >\r\n            {swapButtonText}\r\n          </Button>\r\n        </Grid>\r\n        <Grid item container justifyContent=\"flex-end\" alignItems=\"center\">\r\n          <FormGroup>\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  value={enableInfiniteAllowance}\r\n                  onChange={handleCheckboxChange}\r\n                />\r\n              }\r\n              label=\"infinite allowance\"\r\n            />\r\n          </FormGroup>\r\n        </Grid>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Web3ReactProvider } from \"@web3-react/core\";\r\n\r\nimport { CssBaseline, createTheme, ThemeProvider } from \"@mui/material\";\r\nimport { blue, pink } from \"@mui/material/colors\";\r\n\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nconst Web3 = require(\"web3\");\r\n\r\nfunction getLibrary(provider, connector) {\r\n  return new Web3(provider);\r\n}\r\n\r\nwindow.ethereum.enable();\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    mode: \"light\",\r\n    primary: {\r\n      main: blue[500],\r\n    },\r\n    secondary: {\r\n      main: pink[300],\r\n    },\r\n  },\r\n});\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Web3ReactProvider getLibrary={getLibrary}>\r\n      <ThemeProvider theme={theme}>\r\n        <CssBaseline />\r\n        <App />\r\n      </ThemeProvider>\r\n    </Web3ReactProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}